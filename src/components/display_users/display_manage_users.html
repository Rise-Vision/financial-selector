<div class="container animated fadeIn">

	<div class="row">
    <div class="col-sm-9 col-md-9 col-lg-10">
      <ol class="breadcrumb">
        <li><a ui-sref="displays"><i class="ss-home icon-left"></i> Displays</a></li>
        <li><a ui-sref="financialLists({displayId: $ctrl.displayId})">
					{{ $ctrl.displayInfo.displayName }}
				</a></li>
        <li class="active"><span>Users</span></li>
      </ol>
    </div><!--col-->
    <div class="col-sm-3 col-md-3 col-lg-2 hidden-xs " >
      <a
				ng-if="['DisplayAdmin', 'RiseAdmin'].includes($ctrl.myRole)"
				ng-click="$ctrl.addUser('inviteUser.html')"
				id="add-user-button"
				class="btn btn-primary btn-lg btn-block">
				Add User <i class="fa fa-plus icon-right"></i>
			</a>
    </div>
  </div><!--row-->

  <form class="hidden-xs ng-pristine ng-valid">
    <div class="input-group half-top add-bottom">
      <span class="input-group-addon"><i class="fa fa-search"></i></span>
      <input class="form-control" type="text" placeholder="Search Users" name="">
    </div>
  </form>

  <div class="row half-top visible-xs">
    <div class="col-xs-7">
      <form class="ng-pristine ng-valid">
        <div class="input-group add-bottom">
          <span class="input-group-addon"><i class="fa fa-search"></i></span>
          <input class="form-control" type="text" placeholder="Search Users" name="">
        </div>
      </form>
    </div>
    <div class="col-xs-5">
			<a
				ng-if="['DisplayAdmin', 'RiseAdmin'].includes($ctrl.myRole)"
				ng-click="$ctrl.addUser('inviteUser.html')"
				class="btn btn-primary btn-lg btn-block">
				Add User <i class="fa fa-plus icon-right"></i>
			</a>
    </div>
  </div><!--visible-xs-->
<ul>
	<li ng-repeat="u in $ctrl.tmpUsers">{{u.name}}</li>
</ul>

<error-message message="$ctrl.errorMessage"></error-message>

  <div class="panel panel-default">
      <table class="table">
        <thead class="table-header">
          <tr class="table-header__row">
            <th class="table-header__cell"><a href="#">Email <i class="fa fa-long-arrow-up icon-right"></i></a></th>
            <th class="table-header__cell hidden-xs"><a href="#">Role</a></th>
            <th class="table-header__cell hidden-xs"><a href="#">Status</a></th>
            <th class="table-header__cell col-xs-1"></th>
          </tr>
        </thead>
        <tbody class="table-body">

				<tr class="table-body__row" ng-repeat="user in $ctrl.users">
          <td class="table-body__cell">
            <span>
							<span class="text-muted ng-binding e2e-user-email">{{ user.email }}</span>
						</span>
          </td>
          <td class="table-body__cell hidden-xs ng-binding e2e-user-role">{{ user.role }}</td>
          <td  class="table-body__cell hidden-xs ">
					<span ng-if="user.status == 'Accepted'" >Accepted</span>
					<span ng-if="!user.status">Re-Invite</span>
          </td>
          <td class="table-body__cell">

            <div ng-if="['DisplayAdmin', 'RiseAdmin'].includes($ctrl.myRole)" class="btn-group dropdown" uib-dropdown="" is-open="status.isopen">
              <button id="single-button" type="button" class="btn btn-xs btn-default dropdown-toggle user-actions-dropdown" uib-dropdown-toggle="" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false">
                Actions <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li role="menuitem">
									<a ng-click="$ctrl.editUser(user)" class="btn action-edit-user">Edit User</a>
								</li>
                <li ng-if="!user.status" role="menuitem">
									<a ng-click="$ctrl.removeUser(user)" class="btn"><span class="text-danger">Remove User<span></span></span></a>
								</li>
              </ul>
            </div><!-- Single button -->

          </td>
        </tr>
        </tbody>
      </table>
    </div><!--panel-->
</div>
